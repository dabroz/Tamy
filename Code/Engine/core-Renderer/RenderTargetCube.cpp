#include "core-Renderer\RenderTargetCube.h"
#include "core-Renderer\RenderResource.h"


///////////////////////////////////////////////////////////////////////////////

BEGIN_ABSTRACT_OBJECT( RenderTargetCube );
   PARENT( ShaderTexture );
END_OBJECT();

///////////////////////////////////////////////////////////////////////////////

RenderTargetCube::RenderTargetCube( uint edgeLength, TextureUsage usage )
   : m_edgeLength( edgeLength )
   , m_usage( usage )
{
   m_renderResource = RenderResource::instantiate< RenderTargetCube >( this );
}

///////////////////////////////////////////////////////////////////////////////

RenderTargetCube::~RenderTargetCube()
{
   m_renderResource->removeReference();
   m_renderResource = NULL;
}

///////////////////////////////////////////////////////////////////////////////

void RenderTargetCube::resize( uint edgeLength )
{
   m_edgeLength = edgeLength;
   m_renderResource->setDirty();
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

RCActivateRenderTargetCube::RCActivateRenderTargetCube( const RenderTargetCube* renderTarget, byte sideIdx )
   : m_renderTarget( renderTarget )
   , m_sideIdx( sideIdx )
{
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

RCDeactivateRenderTargetCube::RCDeactivateRenderTargetCube()
{
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

RCClearRenderTargetCube::RCClearRenderTargetCube( const RenderTargetCube* renderTarget, const Color& bgColor )
   : m_renderTarget( renderTarget )
   , m_bgColor( bgColor )
{
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
